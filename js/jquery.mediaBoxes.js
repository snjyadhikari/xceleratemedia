!function(t,e,a){var i=function(t,e){this.init(t,e)};i.DEFAULTS={boxesToLoadStart:8,boxesToLoad:4,minBoxesPerFilter:0,lazyLoad:!0,lazyLoadInLoadMoreView:!1,horizontalSpaceBetweenBoxes:15,verticalSpaceBetweenBoxes:15,columnWidth:"auto",columns:4,resolutions:[{maxWidth:960,columnWidth:"auto",columns:3},{maxWidth:650,columnWidth:"auto",columns:2,horizontalSpaceBetweenBoxes:10,verticalSpaceBetweenBoxes:10},{maxWidth:450,columnWidth:"auto",columns:1,horizontalSpaceBetweenBoxes:10,verticalSpaceBetweenBoxes:10}],multipleFilterLogic:"AND",filterContainer:"#filter",search:"",searchTarget:".media-box-title",sortContainer:"",getSortData:{title:".media-box-title",text:".media-box-text"},waitUntilThumbWithRatioLoads:!0,waitForAllThumbsNoMatterWhat:!1,noEmptySpaceOnThumbWithRatio:!0,thumbnailOverlay:!0,overlayEffect:"fade",overlaySpeed:200,overlayEasing:"default",showOnlyVisibleBoxesInPopup:!1,considerFilteringInPopup:!0,deepLinkingOnPopup:!0,deepLinkingOnFilter:!0,deepLinkingOnSearch:!1,LoadingWord:"Loading...",loadMoreWord:"Load More",noMoreEntriesWord:"No More Entries",percentage:!1,popup:"fancybox",magnificpopup:{gallery:!0,alignTop:!1,preload:[0,2]},fancybox:{loop:!1,margin:[44,0],keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:3,protect:!1,animationEffect:"zoom",animationDuration:330,transitionEffect:"fade",transitionDuration:330,slideShow:{autoStart:!1,speed:4e3},fullScreen:{autoStart:!1},thumbs:{autoStart:!1,hideOnClose:!0},touch:{vertical:!0,momentum:!0},compensateScrollbar:".fancybox-compensate-for-scrollbar"},animation_on_thumbnail_overlay_hover:[]},i.prototype.init=function(o,n){var r=e.extend(!0,{},i.DEFAULTS,n),s=e(o).addClass("media-boxes-container"),d=".media-box",l=".media-box-image",c="media-box",f="media-box-hidden",p=Modernizr.csstransitions?"transition":"animate",h={},m=0;"default"==r.overlayEasing&&(r.overlayEasing="transition"==p?"_default":"swing"),this.container=s,this.container_clone=s.clone().removeClass("media-boxes-container");var u=e('<div class="media-boxes-load-more media-boxes-load-more-button"></div>').insertAfter(s);r.resolutions.sort(function(t,e){return t.maxWidth-e.maxWidth}),s.data("settings",r),s.find(d).removeClass(c).addClass(f);var v=e(r.sortContainer).find("*[data-sort-by]").filter(".selected"),g=v.attr("data-sort-by"),b=R(v);function x(t,a){var i=e(a.img),o=i.parents(".image-with-dimensions");if(!i.hasClass("done")){i.addClass("done");var n=200,r=i.parents(d);"none"==(r.css("-webkit-transform")||r.css("-moz-transform")||r.css("-ms-transform")||r.css("-o-transform")||r.css("transform"))&&(n=0),setTimeout(function(){a.isLoaded?(y(t),o.find(".media-boxes-loading-animation").fadeOut(700),i.fadeIn(500,function(){o.removeClass("image-with-dimensions")})):(o.find(".media-boxes-loading-animation").fadeOut(500),o.removeClass("image-with-dimensions"),i.hide(),o.addClass("broken-image-here"))},n)}}function y(t){t.data("settings").noEmptySpaceOnThumbWithRatio&&t.find(d+", ."+f).each(function(){var t=e(this).find("div[data-width][data-height]"),i=t.find("img");if(t[0]!=a&&i.hasClass("done")){var o=parseFloat(t.data("width"))/parseFloat(t.data("height")),n=parseFloat(i.width())/parseFloat(i.height());(o=o.toFixed(2))<(n=n.toFixed(2))?t.addClass("media-box-fill-height"):t.removeClass("media-box-fill-height")}})}function w(t,i){t.find(d).find(l+":not([data-imageconverted])").each(function(){var o=e(this),n=o.find("div[data-thumbnail]").eq(0),r=n.attr("data-thumbnail"),s=n.attr("data-title")!=a?n.attr("data-title"):"",d=n.attr("data-alt")!=a?n.attr("data-alt"):"",l=n.attr("data-width")!=a&&n.attr("data-height")!=a,c=t.data("settings").waitForAllThumbsNoMatterWhat;if("none"==r)return!0;if(0!=i||1!=l||0!=c){var f=e('<img alt="'+d+'" title="'+s+'" src="'+r+'" />');1==i&&(f.attr("data-dont-wait-for-me","yes"),n.addClass("image-with-dimensions"),n.prepend('<div class="media-boxes-loading-animation"></div>'),t.data("settings").waitUntilThumbWithRatioLoads&&f.hide()),o.attr("data-imageconverted","yes"),n.addClass("media-box-thumbnail-container").prepend(f)}}),function(t){t.find(".image-with-dimensions").imagesLoadedMB().always(function(e){for(index in e.images){var a=e.images[index];x(t,a)}}).progress(function(e,a){x(t,a)})}(t)}function C(t){t.find(d).find(l).each(function(){var t=e(this),i=t.parents(d),o="none"==i.css("display"),n=t.find("div[data-thumbnail]").eq(0);n[0]!=a&&(o&&i.css("margin-top",99999999999999).show(),t.width(n[0].offsetWidth),t.height(n[0].offsetHeight),o&&i.css("margin-top",0).hide())})}function B(t){t.find(d).find(l).each(function(){var i=e(this),o=i.parents(d),n="none"==o.css("display"),r=i.find("div[data-thumbnail]").eq(0),s=r.attr("data-width")!=a&&r.attr("data-height")!=a,l=parseFloat(r.data("width")),c=parseFloat(r.data("height"));n&&o.css("margin-top",99999999999999).show();var f=o[0].offsetWidth-t.data("current_horizontalSpaceBetweenBoxes"),p=c*f/l;n&&o.css("margin-top",0).hide(),r.css("width",f),s&&(o.attr("data-current-columns")>1&&o.attr("data-extra-height")&&(p+=parseFloat(o.attr("data-extra-height"))),r.css("height",Math.floor(p)))}),y(t)}function k(t,i,o){var n=0,r=t.data("settings").percentage,s="";"auto"==i?r?(n=100/o,s="%"):n=Math.floor(Math.floor(t.width())/o):n=i,t.find(".media-boxes-grid-sizer").css("width",n+s),t.find(d).each(function(t){var i=e(this),r=i.data("columns");r!=a&&parseInt(r)>parseInt(o)&&(r=o),r==a&&(r=1),i.attr("data-current-columns",r),i.css("width",parseFloat(n)*parseInt(r)+s)})}function S(t,e,a){t.data("current_horizontalSpaceBetweenBoxes",e),t.data("current_verticalSpaceBetweenBoxes",a),t.css("margin-left",-e),t.find(".media-box-container").each(function(){this.style.setProperty("margin-left",e+"px","important"),this.style.setProperty("margin-bottom",a+"px","important")})}function L(e){var i,o,n=!1;for(var r in e.data("settings").resolutions){var s=e.data("settings").resolutions[r];if(s.maxWidth>=(i=void 0,o=void 0,i=t,o="inner","innerWidth"in t||(o="client",i=document.documentElement||document.body),{width:i[o+"Width"],height:i[o+"Height"]}).width){s.horizontalSpaceBetweenBoxes!=a&&s.verticalSpaceBetweenBoxes!=a?S(e,s.horizontalSpaceBetweenBoxes,s.verticalSpaceBetweenBoxes):S(e,e.data("settings").horizontalSpaceBetweenBoxes,e.data("settings").verticalSpaceBetweenBoxes),k(e,s.columnWidth,s.columns),n=!0;break}}0==n&&(S(e,e.data("settings").horizontalSpaceBetweenBoxes,e.data("settings").verticalSpaceBetweenBoxes),k(e,e.data("settings").columnWidth,e.data("settings").columns))}function O(t,a){var i,o;s.addClass("filtering-isotope"),function(t,e){h[e]=t,s.isotopeMB({filter:T(h)})}(t,a),i=s.find(d+", ."+f),o=W(),i.filter(o).removeClass("hidden-media-boxes-by-filter").addClass("visible-media-boxes-by-filter"),i.not(o).addClass("hidden-media-boxes-by-filter").removeClass("visible-media-boxes-by-filter"),function(){z().not(".media-box-loaded").length>0?I():_();!function(){var t=W(),a=!1;("*"==t||".search-match"==t&&""==e(r.search).val())&&(a=!0);if(0==a){var i=z().length;if(i<r.minBoxesPerFilter&&E().length>0)return F(r.minBoxesPerFilter-i),!0}}()}()}function T(t){var e=[];for(var a in t){var i=t[a].split(" ").join(""),o=i.split(",");if("AND"==r.multipleFilterLogic)"*"!=i&&(e=0==e.length?o:M([e,o]));else if("OR"==r.multipleFilterLogic&&"*"!=i&&".search-match"!=i)if("search"in t){var n=M([[".search-match"],o]);e.push(n.join(","))}else e.push(o.join(","))}return e.length>0?e.join(","):"*"}function M(t){if(1==t.length)return t[0];for(var e=[],a=M(t.slice(1)),i=0;i<a.length;i++)for(var o=0;o<t[0].length;o++)e.push(t[0][o]+a[i]);return e}function z(){var t=s.find(d),e=W();return"*"!=e&&(t=t.filter(e)),t}function W(){var t=s.data("isotopeMB").options.filter;return""!=t&&t!=a||(t="*"),t}function E(t){var e=s.find("."+f),i=W();return"*"!=i&&t==a&&(e=e.filter(i)),e}function I(){u.html(r.LoadingWord),u.removeClass("media-boxes-load-more"),u.addClass("media-boxes-loading")}function _(){u.removeClass("media-boxes-load-more"),u.removeClass("media-boxes-loading"),u.removeClass("media-boxes-no-more-entries"),E().length>0?(u.html(r.loadMoreWord),u.addClass("media-boxes-load-more")):(u.html(r.noMoreEntriesWord),u.addClass("media-boxes-no-more-entries"))}function F(t,a){if(1!=u.hasClass("media-boxes-no-more-entries")){m++,I();var i=[];E(a).each(function(a){var o=e(this);a+1<=t&&(o.removeClass(f).addClass(c),o.hide(),i.push(this))}),s.isotopeMB("insert",e(i),function(){0==--m&&_(),s.isotopeMB("layout")})}}s.append('<div class="media-boxes-grid-sizer"></div>'),s.isotopeMB({itemSelector:d,transitionDuration:"0.5s",hiddenStyle:{opacity:0,transform:"scale(0.7)"},visibleStyle:{opacity:1,transform:"scale(1)"},masonry:{columnWidth:".media-boxes-grid-sizer"},getSortData:r.getSortData,sortBy:g,sortAscending:b}),e.extend(IsotopeMB.prototype,{resize:function(){var t=e(this.element);L(t),B(t),C(t),function(t){t.find(d).each(function(){var a=e(this).find(l),i=t.data("settings").overlayEffect;i.indexOf("100")>=0&&-1==i.indexOf("100%")&&(i=i.split("100").join("100%")),"direction"==i.substr(0,9)&&a.find(".thumbnail-overlay").hide()}),t.isotopeMB("layout")}(t),this.isResizeBound&&this.needsResizeLayout()&&this.layout()}}),e.extend(IsotopeMB.prototype,{_setContainerMeasure:function(t,i){if(t!==a){var o=this.size;o.isBorderBox&&(t+=i?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth),t=Math.max(t,0),this.element.style[i?"width":"height"]=t+"px";var n=e(this.element);Waypoint.refreshAll(),setTimeout(function(){n.addClass("lazy-load-ready")},10),n.removeClass("filtering-isotope")}}}),e.extend(IsotopeMB.prototype,{insert:function(t,i){var o=e(this.element);o.find(d).each(function(){var t=e(this);for(var i in o.data("settings").getSortData){var n=o.data("settings").getSortData[i];"string"==typeof n&&t.find(n)[0]==a&&t.append(e('<div class="'+n.substring(1)+'" style="display:none !important;" data-comment="This is added in JS because it needs it for sorting">ZZ</div>'))}});var n=this.addItems(t);if(n.length){var s,c,p=o.find("."+f)[0],h=n.length;for(s=0;s<h;s++)c=n[s],p!=a?this.element.insertBefore(c.element,p):this.element.appendChild(c.element);var m=function(t){var a=e(t.img),i=a.parents("div[data-thumbnail], div[data-popup]");0==t.isLoaded&&(a.hide(),i.addClass("broken-image-here"))},u=this;!function(t){t.find(d+", ."+f).find(".mb-open-popup:not(.popup-trigger-added)").each(function(){var t=e(this).addClass("popup-trigger-added"),i=t.attr("data-src"),o=t.attr("data-type"),n=t.attr("data-title")!=a?t.attr("data-title"):"",s=t.attr("data-alt")!=a?t.attr("data-alt"):"";if((!t.hasClass("iframe-on-grid")||"iframe"!=o)&&i!=a&&(""==i&&(t.removeClass("mb-open-popup"),t.removeAttr("data-src"),t.removeAttr("data-type"),t.removeAttr("data-title"),t.removeAttr("data-alt")),"iframe"==o||"inline"==o||"ajax"==o||t.removeAttr("data-type"),"fancybox"==r.popup&&(t.attr("data-caption",n),(i.indexOf("youtube")>=0||i.indexOf("vimeo")>=0)&&t.removeAttr("data-type")),"magnificpopup"==r.popup)){var d="mfp-image";"iframe"==o?d="mfp-iframe":"inline"==o?d="mfp-inline":"ajax"==o&&(d="mfp-ajax"),t.attr("data-mfp-src",i),t.addClass(d),t.attr("mfp-title",n),t.attr("mfp-alt",s)}})}(o),function(t){var a=e('<div class="media-box-container"></div');t.find(d+":not([data-wrapper-added])").attr("data-wrapper-added","yes").wrapInner(a)}(o),L(o),B(o),w(o,!1),o.find("img:not([data-dont-wait-for-me])").imagesLoadedMB().always(function(){for(index in 0==o.data("settings").waitForAllThumbsNoMatterWhat&&w(o,!0),o.find(d).addClass("media-box-loaded"),e(o.data("settings").search).trigger("keyup"),function(){var t=this._filter(n).matches;for(this._noTransition(function(){this.hide(t)}),s=0;s<h;s++)n[s].isLayoutInstant=!0;for(this.arrange(),s=0;s<h;s++)delete n[s].isLayoutInstant;this.reveal(t)}.call(u),C(o),function(t){if(0==t.data("settings").thumbnailOverlay)return;var i=t.find(d+":not([data-set-overlay-for-hover-effect])").attr("data-set-overlay-for-hover-effect","yes");i.find(".thumbnail-overlay").wrapInner("<div class='aligment'><div class='aligment'></div></div>"),i.each(function(){var i=e(this),o=i.find(l),n=t.data("settings").overlayEffect;if(o.data("overlay-effect")!=a&&(n=o.data("overlay-effect")).indexOf("100")>=0&&-1==n.indexOf("100%")&&(n=n.split("100").join("100%")),"push-up"==n||"push-down"==n||"push-up-100%"==n||"push-down-100%"==n){var r=o.find(".media-box-thumbnail-container"),s=o.find(".thumbnail-overlay").css("position","relative");"push-up-100%"!=n&&"push-down-100%"!=n||s.outerHeight(r.outerHeight(!1));var d=s.outerHeight(!1),c=e('<div class="wrapper-for-some-effects"></div');"push-up"==n||"push-up-100%"==n?s.appendTo(o):"push-down"!=n&&"push-down-100%"!=n||(s.prependTo(o),c.css("margin-top",-d)),o.wrapInner(c)}else if("reveal-top"==n||"reveal-top-100%"==n){i.addClass("position-reveal-effect");var f=i.find(".thumbnail-overlay").css("top",0);"reveal-top-100%"==n&&f.css("height","100%")}else if("reveal-bottom"==n||"reveal-bottom-100%"==n){i.addClass("position-reveal-effect").addClass("position-bottom-reveal-effect");var f=i.find(".thumbnail-overlay").css("bottom",0);"reveal-bottom-100%"==n&&f.css("height","100%")}else if("direction"==n.substr(0,9))i.find(".thumbnail-overlay").css("height","100%");else if("fade"==n){var p=i.find(".thumbnail-overlay").hide();p.css({height:"100%",top:"0",left:"0"})}t.data("settings").animation_on_thumbnail_overlay_hover.forEach(function(t){var e=i.find(".thumbnail-overlay").find(t.item);"zoom-out"==t.animation?e.css({scale:1.4}):"zoom-in"==t.animation?e.css({scale:.6}):"from-top"==t.animation?e.transition({y:"-30px"},0):"from-bottom"==t.animation?e.transition({y:"30px"},0):"from-left"==t.animation?e.transition({x:"-30px"},0):"from-right"==t.animation&&e.transition({x:"30px"},0)})})}(o),"function"==typeof i&&i(),u.images){var t=u.images[index];m(t)}}).progress(function(t,e){m(e)})}else"function"==typeof i&&i()}}),F(r.boxesToLoadStart,!0),u.on("click",function(){F(r.boxesToLoad)}),r.lazyLoad&&s.waypoint(function(t){s.hasClass("lazy-load-ready")&&"down"==t&&0==s.hasClass("filtering-isotope")&&(s.removeClass("lazy-load-ready"),F(r.boxesToLoad))},{context:t,continuous:!0,enabled:!0,horizontal:!1,offset:"bottom-in-view",triggerOnce:!1}),r.lazyLoadInLoadMoreView&&e(t).scroll(function(){e(".media-boxes-load-more:visible")[0]!==a&&e(".media-boxes-load-more:visible").visible(!0)&&s.hasClass("lazy-load-ready")&&0==s.hasClass("filtering-isotope")&&(s.removeClass("lazy-load-ready"),F(r.boxesToLoad))});var D=e(r.filterContainer);function A(t,i,o){i.find("*[data-filter]").removeClass("selected"),t.addClass("selected");var n=t.attr("data-filter"),s=i.data("id")!=a?i.data("id"):"filter",d=i.attr("default-value")==n;"default"!=o&&H(n,s,d),D.find("[data-filter]").addBack("[data-filter]").each(function(){var t=e(this),i=t.attr("data-visible-only-if");if(i!=a){var o=e(i);o.is(":checkbox")&&(o.is(":checked")?(t.removeClass("visibility_hidden"),t.parents(".media-boxes-checkboxes-label").show()):(t.addClass("visibility_hidden"),t.parents(".media-boxes-checkboxes-label").hide(),t.is(":checked")&&t.trigger("click"))),o.is(":checkbox")||o.is("select")||(o.hasClass("selected")?t.show().removeClass("visibility_hidden"):(t.hide().addClass("visibility_hidden"),t.hasClass("selected")&&t.parents(r.filterContainer).find('[data-filter="*"]').trigger("click")))}}),e(".media-boxes-drop-down, .media-boxes-filter, .media-boxes-checkboxes").each(function(){var t=e(this),i=t.find("[data-filter]").not(".visibility_hidden");t.find("[data-filter]")[0]!=a&&(t.hasClass("media-boxes-checkboxes")||(i=i.not('[data-filter="*"]')),i.length<=0?t.hide():t.show())}),O(n,s)}function P(t){if(t!=a){var i=s.find("."+c+", ."+f);""==t?i.addClass("search-match"):(i.removeClass("search-match"),s.find(r.searchTarget).each(function(){var a=e(this),i=a.parents("."+c+", ."+f);-1!==a.text().toLowerCase().indexOf(t.toLowerCase())&&i.addClass("search-match")}));var o=e(r.search).attr("default-value")==t;setTimeout(function(){H(t,"search",o),O(".search-match","search")},100)}}function R(t){var e=t.data("sort-ascending");e==a&&(e=!0),t.data("sort-toggle")&&1==t.data("sort-toggle")&&t.data("sort-ascending",!e);var i=t.parents(".media-boxes-sort").find(".media-boxes-sort-order").find(".selected");return i[0]!==a&&(e=i.data("sort-ascending")),"original-order"==t.attr("data-sort-by")&&(e=!0),e}D.on("change",function(){e(this).is("select")&&A(e(this).find("*[data-filter]:selected"),e(this),"change")}),D.on("click","*[data-filter]",function(t){e(this).is("option")||e(this).is(":checkbox")||(A(e(this),e(this).parents(r.filterContainer),"click"),t.preventDefault())}),e("body").on("click",r.filterContainer,function(){if(e(this).is(":checkbox")){var t=e(this),a=e(this);t.is(":checked")?t.attr("data-filter",t.attr("data-filter-original")):t.attr("data-filter","*"),A(t,a,"checkbox")}}),D.each(function(){var t=e(this).find("*[data-filter]").filter(".selected"),i=e(this);e(this).is(":checkbox")&&((t=i).attr("data-filter-original",t.attr("data-filter")),t.is(":checked")?t.attr("data-filter",t.attr("data-filter-original")):t.attr("data-filter","*")),i.attr("default-value",t.attr("data-filter")),t[0]!=a&&A(t,i,"default")}),e(r.search).on("keyup",function(){P(e(this).val())}),e(r.search).attr("default-value",e(r.search).attr("value")===a?"":e(r.search).attr("value")),P(e(r.search).val()),e("body").on("click",".media-boxes-clear",function(){e(this).parents(".media-boxes-search").find("input").val("").trigger("keyup").focus()}),e(r.sortContainer).find("*[data-sort-by]").on("click",function(t){var a=e(this);a.parents(r.sortContainer).find("*[data-sort-by]").removeClass("selected"),a.addClass("selected");var i=a.attr("data-sort-by");s.isotopeMB({sortBy:i,sortAscending:R(a)}),t.preventDefault()}),e(r.sortContainer).parents(".media-boxes-sort").find(".media-boxes-sort-order").on("click",function(t){var a=e(this);a.find(".selected").removeClass("selected").siblings("span").addClass("selected");var i=a.parents(".media-boxes-sort").find(".selected[data-sort-by]");s.isotopeMB({sortAscending:R(i)})}),s.on("mouseenter.hoverdir, mouseleave.hoverdir",l,function(t){if(0!=r.thumbnailOverlay){var i=e(this),o=r.overlayEffect;i.data("overlay-effect")!=a&&(o=i.data("overlay-effect")).indexOf("100")>=0&&-1==o.indexOf("100%")&&(o=o.split("100").join("100%"));var n=t.type,s=i.find(".media-box-thumbnail-container"),d=i.find(".thumbnail-overlay"),l=d.outerHeight(!1);if("push-up"==o||"push-up-100%"==o){var c=i.find("div.wrapper-for-some-effects");"mouseenter"===n?c.stop().show()[p]({"margin-top":-l},r.overlaySpeed,r.overlayEasing):c.stop()[p]({"margin-top":0},r.overlaySpeed,r.overlayEasing)}else if("push-down"==o||"push-down-100%"==o){c=i.find("div.wrapper-for-some-effects");"mouseenter"===n?c.stop().show()[p]({"margin-top":0},r.overlaySpeed,r.overlayEasing):c.stop()[p]({"margin-top":-l},r.overlaySpeed,r.overlayEasing)}else if("reveal-top"==o||"reveal-top-100%"==o)"mouseenter"===n?s.stop().show()[p]({"margin-top":l},r.overlaySpeed,r.overlayEasing):s.stop()[p]({"margin-top":0},r.overlaySpeed,r.overlayEasing);else if("reveal-bottom"==o||"reveal-bottom-100%"==o)"mouseenter"===n?s.stop().show()[p]({"margin-top":-l},r.overlaySpeed,r.overlayEasing):s.stop()[p]({"margin-top":0},r.overlaySpeed,r.overlayEasing);else if("direction"==o.substr(0,9)){var f=j(i,{x:t.pageX,y:t.pageY});"direction-top"==o?f=0:"direction-bottom"==o?f=2:"direction-right"==o?f=1:"direction-left"==o&&(f=3);var h=U(f,i);"mouseenter"==n?(d.css({left:h.from,top:h.to}),d.stop().show().fadeTo(0,1,function(){e(this).stop()[p]({left:0,top:0},r.overlaySpeed,r.overlayEasing)})):"direction-aware-fade"==o?d.fadeOut(700):d.stop()[p]({left:h.from,top:h.to},r.overlaySpeed,r.overlayEasing)}else"fade"==o&&("mouseenter"==n?(d.stop().fadeOut(0),d.fadeIn(r.overlaySpeed)):(d.stop().fadeIn(0),d.fadeOut(r.overlaySpeed)));r.animation_on_thumbnail_overlay_hover.forEach(function(t){var e=d.find(t.item);"mouseenter"==n?"zoom-out"==t.animation?(e.css({scale:1.4}),e[p]({scale:1},200)):"zoom-in"==t.animation?(e.css({scale:.6}),e[p]({scale:1},200)):"from-top"==t.animation?(e.transition({y:"-30px"},0),e.transition({y:"0px"},200)):"from-bottom"==t.animation?(e.transition({y:"30px"},0),e.transition({y:"0px"},200)):"from-left"==t.animation?(e.transition({x:"-30px"},0),e.transition({x:"0px"},200)):"from-right"==t.animation&&(e.transition({x:"30px"},0),e.transition({x:"0px"},200)):"zoom-out"==t.animation?(e.css({scale:1}),e[p]({scale:1.4},200)):"zoom-in"==t.animation?(e.css({scale:1}),e[p]({scale:.6},200)):"from-top"==t.animation?(e.transition({y:"0px"},0),e.transition({y:"-30px"},200)):"from-bottom"==t.animation?(e.transition({y:"0px"},0),e.transition({y:"30px"},200)):"from-left"==t.animation?(e.transition({x:"0px"},0),e.transition({x:"-30px"},200)):"from-right"==t.animation&&(e.transition({x:"0px"},0),e.transition({x:"30px"},200))})}});var j=function(t,e){var a=t.width(),i=t.height(),o=(e.x-t.offset().left-a/2)*(a>i?i/a:1),n=(e.y-t.offset().top-i/2)*(i>a?a/i:1);return Math.round((Math.atan2(n,o)*(180/Math.PI)+180)/90+3)%4},U=function(t,e){var a,i;switch(t){case 0:r.reverse,a=0,i=-e.height();break;case 1:r.reverse?(a=-e.width(),i=0):(a=e.width(),i=0);break;case 2:r.reverse?(a=0,i=-e.height()):(a=0,i=e.height());break;case 3:r.reverse?(a=e.width(),i=0):(a=-e.width(),i=0)}return{from:a,to:i}};if(s.on("click",".iframe-on-grid",function(){var t=e(this);!function(t,i){var o="";t.find(".iframe-on-grid-container")[0]!=a?o=t.find(".iframe-on-grid-container"):(i.indexOf("vimeo.com/")>-1?i="https://player.vimeo.com/video/"+(i=i.split("vimeo.com/").pop())+"?autoplay=1":i.indexOf("youtube.com/")>-1&&(i="https://www.youtube.com/embed/"+(i=i.split("?v=").pop())+"?autoplay=1"),(o=e('<div class="iframe-on-grid-container"><iframe src="'+i+'" allowfullscreen></iframe></div>').appendTo(t)).find("iframe").load(function(){e(this).fadeIn(100)}));o.fadeIn(300)}(t.parents(d).find(l),t.attr("data-src"))}),"fancybox"==r.popup||"magnificpopup"==r.popup){var q=".mb-open-popup[data-src]";r.considerFilteringInPopup&&(q=d+":not(.hidden-media-boxes-by-filter) .mb-open-popup[data-src], ."+f+":not(.hidden-media-boxes-by-filter) .mb-open-popup[data-src]"),r.showOnlyVisibleBoxesInPopup&&(q=d+":visible .mb-open-popup[data-src]"),"fancybox"==r.popup&&function(t,i){t.on("click",".mb-open-popup",function(){var o=t.find(i);return e.fancyboxMB.open(o,{loop:r.fancybox.loop,margin:r.fancybox.margin,keyboard:r.fancybox.keyboard,arrows:r.fancybox.arrows,infobar:r.fancybox.infobar,toolbar:r.fancybox.toolbar,buttons:r.fancybox.buttons,idleTime:r.fancybox.idleTime,protect:r.fancybox.protect,animationEffect:r.fancybox.animationEffect,animationDuration:r.fancybox.animationDuration,transitionEffect:r.fancybox.transitionEffect,transitionDuration:r.fancybox.transitionDuration,slideShow:r.fancybox.slideShow,fullScreen:r.fancybox.fullScreen,thumbs:r.fancybox.thumbs,touch:r.fancybox.touch,afterShow:function(t,e){e.opts.$orig.attr("data-alt")!=a&&e.$image.attr("alt",e.opts.$orig.attr("data-alt")),N(e.opts.$orig.attr("data-src"))},beforeClose:function(t,e){r.deepLinkingOnPopup&&V("("+e.opts.$orig.parents(".media-boxes-container").attr("id")+"|popup)=")},onInit:function(){e(r.fancybox.compensateScrollbar).each(function(){e(this).css("padding-right","+="+e("body").css("margin-right"))})},afterClose:function(){e(r.fancybox.compensateScrollbar).each(function(){e(this).css("padding-right","-="+e("body").css("margin-right"))})}},o.index(this)),!1}),e.fancyboxMB.defaults.hash=!1}(s,q),"magnificpopup"==r.popup&&function(i,o){i.magnificPopup({delegate:o,type:"image",removalDelay:200,closeOnContentClick:!1,alignTop:r.magnificpopup.alignTop,preload:r.magnificpopup.preload,tLoading:"loading...",mainClass:"my-mfp-slide-bottom",gallery:{enabled:r.magnificpopup.gallery},closeMarkup:'<button title="%title%" class="mfp-close"></button>',titleSrc:"title",autoFocusLast:!1,iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"https://player.vimeo.com/video/%id%?autoplay=1"}},markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div class="mfp-bottom-bar" style="margin-top:4px;"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>'},callbacks:{change:function(){var t=e(this.currItem.el);setTimeout(function(){e(".mfp-title").html(t.attr("mfp-title")),e(".mfp-img").attr("alt",t.attr("mfp-alt")),function(t){var i=location.href,o=(location.href.replace(location.hash,""),t.attr("data-src"),i),n="<div class='media-boxes-social-container'>";r.facebook!=a&&(n+="<div class='media-boxes-facebook fa fa-facebook-square' data-url='"+o+"'></div>");r.twitter!=a&&(n+="<div class='media-boxes-twitter fa fa-twitter-square' data-url='"+o+"'></div>");r.googleplus!=a&&(n+="<div class='media-boxes-googleplus fa fa-google-plus-square' data-url='"+o+"'></div>");r.pinterest!=a&&(n+="<div class='media-boxes-pinterest fa fa-pinterest-square' data-url='"+o+"'></div>");n+="</div>";var s=e(".mfp-title").html();e(".mfp-title").html(s+n)}(t)},5),N(t.attr("data-src"))},close:function(){if(r.deepLinkingOnPopup){var t=e(this.currItem.el);V("("+t.parents(".media-boxes-container").attr("id")+"|popup)=")}},beforeOpen:function(){this.container.data("scrollTop",parseInt(e(t).scrollTop()))},open:function(){e("html, body").scrollTop(this.container.data("scrollTop"))}}})}(s,q)}function H(t,e,a){("search"==e&&r.deepLinkingOnSearch||"search"!=e&&r.deepLinkingOnFilter)&&(!0===a?V("("+s.attr("id")+"|"+e+")="):Y("("+s.attr("id")+"|"+e+")=",t))}function N(t){r.deepLinkingOnPopup&&Y("("+s.attr("id")+"|popup)=",t)}var $="";function V(t){J(Z().split(Q(t)).join(""))}function Z(){return-1!=location.href.indexOf("#")?decodeURI(location.href.substring(location.href.indexOf("#")+1)):""}function J(t){""===t||"#"===t||"!"===t?history.pushState?history.pushState(null,null,"#"):location.hash="#!":location.hash="#"+t}function Q(t){var e=Z(),a="",i=e.indexOf(t);return i>-1&&e.indexOf(";",i)>-1&&(a=e.substring(i,e.indexOf(";",i)+1)),a}function X(t){var e=Z(),a="",i=e.indexOf(t);return i>-1&&e.indexOf(";",i)>-1&&(a=e.substring(i+t.length,e.indexOf(";",i))),a}function Y(t,e){X(t)==e||function(t,e){var a=Z();a.indexOf(t)>-1&&""!=t?J(a.split(t).join(e)):J(a+e)}(Q(t),t+e+";")}!function(){if(r.deepLinkingOnFilter&&e(r.filterContainer).each(function(){var t=e(this),i=t.data("id")!=a?t.data("id"):"filter",o="("+s.attr("id")+"|"+i+")=",n=X(o);if($+=Q(o),""!=n)if(t.is("select")){var r=t.find('*[data-filter="'+n+'"]').val();t.val(r).trigger("change")}else t.is(":checkbox")?t.attr("data-filter",n).trigger("click"):t.find('*[data-filter="'+n+'"]').trigger("click")}),r.deepLinkingOnSearch){var t="("+s.attr("id")+"|search)=",i=X(t);$+=Q(t),""!=i&&e(r.search).val(i).trigger("keyup")}}(),function(){if(r.deepLinkingOnPopup){var t="("+s.attr("id")+"|popup)=",e=X(t);$+=Q(t),""!=e&&setTimeout(function(){s.find('.mb-open-popup[data-src="'+e+'"]').trigger("click")},50)}}(),s.attr("cleaned_hash",$);var G=function(e){t.open(e,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200)};e("body").on("click","div.media-boxes-facebook",function(){var t=e(this),a=encodeURIComponent(t.data("url"));G(a="https://www.facebook.com/sharer/sharer.php?u="+a)}),e("body").on("click","div.media-boxes-twitter",function(){var t=e(this),a=encodeURIComponent(t.data("url"));G(a="https://twitter.com/intent/tweet?url=&text="+a)}),e("body").on("click","div.media-boxes-googleplus",function(){var t=e(this),a=encodeURIComponent(t.data("url"));G(a="https://plus.google.com/share?url="+a)}),e("body").on("click","div.media-boxes-pinterest",function(){var t=e(this),a=encodeURIComponent(t.data("url"));G(a="http://pinterest.com/pin/create/button/?url="+a+"&media="+a)}),this.destroy=function(){this.container_clone.insertBefore(this.container).removeData("mediaBoxes"),this.container.removeClass(),this.container.next(".media-boxes-load-more-button").remove(),this.container.isotopeMB("destroy"),this.container.remove()},this.insert=function(t,a){var i=this.container;i.isotopeMB("insert",e(t),function(){a(),i.isotopeMB("layout")})},this.insert_in_flow=function(t,a){this.container.append(e(t).removeClass(c).addClass(f)),u.removeClass("media-boxes-no-more-entries"),F(r.boxesToLoadStart,!0),a()},this.refresh=function(){this.container.isotopeMB("layout")},this.resize=function(){this.container.isotopeMB("resize")}},e.fn.mediaBoxes=function(t,a,o){return this.each(function(n,r){var s=e(this),d=s.data("mediaBoxes");d||"string"==typeof t||s.data("mediaBoxes",new i(this,t)),d&&"string"==typeof t&&d[t](a,o)})}}(window,jQuery);